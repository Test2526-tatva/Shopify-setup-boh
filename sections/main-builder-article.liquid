{{ 'article-builder.css' | asset_url | stylesheet_tag }}

{% render 'navbar--solid' %}


{% capture generated_code %}
  {% render 'article-blocks-generator' %}
{% endcapture %}

<div class="article-builder__header">
  <h2>
    {% assign title_block = section.blocks | where: 'type', 'section-title' | first %}

    {{ title_block.settings.title }}
    <small>Preview</small>
  </h2>

  <div class="article-generator__code">
    <textarea
      rows="5"
      onclick="this.focus();this.select()"
      placeholder="Generated code will appear here."
      readonly="readonly">{{ generated_code | strip | strip_newlines | escape }}</textarea>
  </div>
</div>

<div class="article-content article-content--default">
  <div class="article-content__container">
    {{ generated_code }}
  </div>
</div>


{% comment %} Border for footer: {% endcomment %}
<div class="hr-section-purple">
  <div class="bar"></div>
</div>

{% schema %}
  {
    "name": "Article Builder",
    "blocks": [
      {
        "type": "section-title",
        "name": "Article Name",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Article Name"
          }
        ]
      }, {
        "name": "Two Column",
        "type": "two_column",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "Heading"
          },
          {
            "type": "richtext",
            "id": "content_block_1",
            "label": "Content: Block 1"
          },
          {
            "type": "text",
            "id": "content_heading",
            "label": "Content: Heading"
          },
          {
            "type": "richtext",
            "id": "content_block_2",
            "label": "Content: Block 2"
          }, {
            "type": "image_picker",
            "id": "content_image",
            "label": "Content: Image"
          }, {
            "type": "header",
            "content": "Padding",
            "info": "Use the fields below to change the top and bottom spacing of the blocks on desktop and mobile."
          }, {
            "type": "header",
            "content": "Desktop"
          }, {
            "type": "number",
            "label": "Padding Top",
            "id": "pt",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "header",
            "content": "Mobile"
          }, {
            "type": "number",
            "label": "Padding Top",
            "id": "pt_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }

        ]
      }, {
        "name": "Quote",
        "type": "quote",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Quote"
          },
          {
            "type": "text",
            "id": "quote_by",
            "label": "Quote By"
          },

          {
            "type": "header",
            "content": "Padding",
            "info": "Use the fields below to change the top and bottom spacing of the blocks on desktop and mobile."
          },

          {
            "type": "header",
            "content": "Desktop"
          }, {
            "type": "number",
            "label": "Padding Top",
            "id": "pt",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "header",
            "content": "Mobile"
          }, {
            "type": "number",
            "label": "Padding Top",
            "id": "pt_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }

        ]
      }, {
        "name": "Video",
        "type": "video",
        "settings": [
          {
            "id": "video_url",
            "type": "video_url",
            "accept": [
              "youtube", "vimeo"
            ],
            "label": "Video URL"
          },
          {
            "type": "header",
            "content": "Padding",
            "info": "Use the fields below to change the top and bottom spacing of the blocks on desktop and mobile."
          },

          {
            "type": "header",
            "content": "Desktop"
          },
          {
            "type": "number",
            "label": "Padding Top",
            "id": "pt",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "header",
            "content": "Mobile"
          }, {
            "type": "number",
            "label": "Padding Top",
            "id": "pt_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }, {
            "type": "number",
            "label": "Padding Bottom",
            "id": "pb_m",
            "default": -1,
            "info": "Set to -1 for default padding."
          }

        ]
      }
    ],
    "presets": [
      {
        "name": "Article Builder",
        "blocks": [
          {
            "type": "section-title",
            "settings": {
              "title": "New Article"
            }
          }
        ]
      }
    ]
  }
{% endschema %}